---
title: 错误处理
tags: [编程风格]
---



#### 报错和日志的判断

异常应该抛出而不是返回。

只判断允许出现的情况的条件分支。不要用try来包裹不允许出现的情况。

不允许出现的情况就在server的最底层报错机制中展示出来。这样能避免小错误无法找到。



#### 异常的分类

就是定几个大类，如 参数校验出错的异常CheckException，返回到前台是1，没有登录是UnloginException，返回到前台是2，没有权限是3.

前台拿到了异常，发现是1，就提示返回结果的msg，发现是2，就打开登录对话框，发现是3，然后又怎么样处理。。。

**异常不能不分，但不能分太细，否则前台无法玩。**

